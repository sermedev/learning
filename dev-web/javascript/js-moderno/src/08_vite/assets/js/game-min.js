const blackJackModule=(()=>{"use strict";let e=["C","D","H","S"],t=["A","J","Q","K"],r=[],l=[],s=document.querySelector("#btnAsk"),d=document.querySelector("#btnNewGame"),a=document.querySelector("#btnStop"),n=document.querySelectorAll("small"),i=document.querySelectorAll(".divCards"),c=(e=2)=>{r=o(),l=[];for(let t=0;t<e;t++)l.push(0);n.forEach(e=>e.innerText=0),i.forEach(e=>e.innerHTML=""),s.disabled=!1},o=()=>{r=[];for(let l=2;l<=10;l++)for(let s of e)r.push(l+s);for(let d of e)for(let a of t)r.push(a+d);return _.shuffle(r)},$=()=>{if(0===r.length)throw"No more cards in deck";return r.pop()},u=e=>{let t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:1*t},b=(e,t)=>{let r=u(e);return l[t]+=r,n[t].innerText=l[t],l[t]},f=(e,t)=>{let r=document.createElement("img");r.classList.add("cards"),r.src=`assets/cards/${e}.png`,i[t].append(r)},h=e=>{let t=0,r=l.length-1;do{let s=$();if(t=b(s,r),f(s,r),e>21)break}while(e<21&&t<e);p()},p=()=>{let[e,t]=l;setTimeout(()=>{t===e?alert("Empate \uD83E\uDD1D"):e>21?alert("Perdiste ☠️"):t>21||e>t?alert("Ganaste \uD83C\uDFC6"):alert("Perdiste ☹️")},300)},k=e=>{let t=$(),r=b(t,e);f(t,e),r>21?(s.disabled=!0,a.disabled=!0,h(r)):21===r&&(s.disabled=!0,a.disabled=!0,h(r))};return d.addEventListener("click",()=>{c()}),s.addEventListener("click",()=>{a.disabled=!1,k(0)}),a.addEventListener("click",()=>{s.disabled=!0,a.disabled=!0,h(l[0])}),{newGame:c}})();